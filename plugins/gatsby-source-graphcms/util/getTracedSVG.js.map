{"version":3,"sources":["../src/util/getTracedSVG.js"],"names":["getTracedSVG","url","internal","filename","cache","traceSVG","require","filePath","extension","image","file","name","absolutePath","args","toFormat","fileArgs","err","console","error","PLUGIN_NAME"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AAEO,eAAeA,YAAf,CAA4B;AAAEC,EAAAA,GAAF;AAAOC,EAAAA,QAAP;AAAiBC,EAAAA,QAAjB;AAA2BC,EAAAA;AAA3B,CAA5B,EAAgE;AACrE,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAeC,OAAO,CAAE,qBAAF,CAA5B;;AAEA,UAAMC,QAAQ,GAAG,MAAM,sCAAgB;AACrCN,MAAAA,GADqC;AAErCG,MAAAA;AAFqC,KAAhB,CAAvB;AAKA,UAAMI,SAAS,GAAG,mBAAQD,QAAR,CAAlB;AAEA,UAAME,KAAK,GAAG,MAAMJ,QAAQ,CAAC;AAC3BK,MAAAA,IAAI,EAAE;AACJR,QAAAA,QADI;AAEJS,QAAAA,IAAI,EAAER,QAFF;AAGJK,QAAAA,SAHI;AAIJI,QAAAA,YAAY,EAAEL;AAJV,OADqB;AAO3BM,MAAAA,IAAI,EAAE;AAAEC,QAAAA,QAAQ,EAAG;AAAb,OAPqB;AAQ3BC,MAAAA,QAAQ,EAAE;AARiB,KAAD,CAA5B;AAWA,WAAON,KAAP;AACD,GAtBD,CAsBE,OAAOO,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CACG,IAAGC,sBAAY,uFADlB;AAGD;AACF","sourcesContent":["import { extname } from 'path'\nimport { fetchRemoteFile } from 'gatsby-core-utils'\n\nimport { PLUGIN_NAME } from './constants'\n\nexport async function getTracedSVG({ url, internal, filename, cache }) {\n  try {\n    const { traceSVG } = require(`gatsby-plugin-sharp`)\n\n    const filePath = await fetchRemoteFile({\n      url,\n      cache,\n    })\n\n    const extension = extname(filePath)\n\n    const image = await traceSVG({\n      file: {\n        internal,\n        name: filename,\n        extension,\n        absolutePath: filePath,\n      },\n      args: { toFormat: `` },\n      fileArgs: {},\n    })\n\n    return image\n  } catch (err) {\n    console.error(\n      `[${PLUGIN_NAME}] In order to use the traced svg placeholder, you need to install gatsby-plugin-sharp`\n    )\n  }\n}\n"],"file":"getTracedSVG.js"}