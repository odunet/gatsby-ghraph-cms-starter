{"version":3,"sources":["../src/util/getDominantColor.js"],"names":["getImageDominantColor","url","cache","getDominantColor","require","filePath","backgroundColor","console","error","PLUGIN_NAME"],"mappings":";;;;;;;AAAA;;AAEA;;AAEO,eAAeA,qBAAf,CAAqC;AAAEC,EAAAA,GAAF;AAAOC,EAAAA;AAAP,CAArC,EAAqD;AAC1D,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAuBC,OAAO,CAAE,qBAAF,CAApC;;AAEA,UAAMC,QAAQ,GAAG,MAAM,sCAAgB;AACrCJ,MAAAA,GADqC;AAErCC,MAAAA;AAFqC,KAAhB,CAAvB;AAKA,UAAMI,eAAe,GAAG,MAAMH,gBAAgB,CAACE,QAAD,CAA9C;AAEA,WAAOC,eAAP;AACD,GAXD,CAWE,MAAM;AACNC,IAAAA,OAAO,CAACC,KAAR,CACG,IAAGC,sBAAY,2FADlB;AAIA,WAAQ,oBAAR;AACD;AACF","sourcesContent":["import { fetchRemoteFile } from 'gatsby-core-utils'\n\nimport { PLUGIN_NAME } from './constants'\n\nexport async function getImageDominantColor({ url, cache }) {\n  try {\n    const { getDominantColor } = require(`gatsby-plugin-sharp`)\n\n    const filePath = await fetchRemoteFile({\n      url,\n      cache,\n    })\n\n    const backgroundColor = await getDominantColor(filePath)\n\n    return backgroundColor\n  } catch {\n    console.error(\n      `[${PLUGIN_NAME}] In order to use the dominant color placeholder, you need to install gatsby-plugin-sharp`\n    )\n\n    return `rgba(0, 0, 0, 0.5)`\n  }\n}\n"],"file":"getDominantColor.js"}